import{_ as t,c as e,o,ae as i}from"./chunks/framework.BHrE6nLq.js";const k=JSON.parse('{"title":"初始化开发环境","description":"","frontmatter":{},"headers":[],"relativePath":"quick-start/create-develop-environment.md","filePath":"quick-start/create-develop-environment.md"}'),s={name:"quick-start/create-develop-environment.md"};function l(r,a,n,d,c,h){return o(),e("div",null,a[0]||(a[0]=[i(`<h1 id="初始化开发环境" tabindex="-1">初始化开发环境 <a class="header-anchor" href="#初始化开发环境" aria-label="Permalink to &quot;初始化开发环境&quot;">​</a></h1><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>这些入门步骤是为想要为 Moonlark 开发一些不那么简单的插件的有一定经验的开发者提供的。如果您想进行的更改十分简单，您不必遵循这些步骤。</p></div><h2 id="准备工作" tabindex="-1">准备工作 <a class="header-anchor" href="#准备工作" aria-label="Permalink to &quot;准备工作&quot;">​</a></h2><p>您需要一台电脑用于 Moonlark 开发。无论如何，我们不推荐使用移动设备（如安卓平板）进行开发。</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>因为 Moonlark 最低需要 Python 3.11 环境，所以其无法在 Windows 7 上运行，您可能需要 Windows 8.1、macOS 10.9、Linux 3.6 及更高版本的内核或操作系统。</p></div><h2 id="搭建开发环境" tabindex="-1">搭建开发环境 <a class="header-anchor" href="#搭建开发环境" aria-label="Permalink to &quot;搭建开发环境&quot;">​</a></h2><ol><li>确保您的 Python 版本 <code>&gt;= 3.11</code>。</li><li>安装包管理工具 <a href="https://python-poetry.org/docs/" target="_blank" rel="noreferrer">Poetry</a>（建议安装 <code>2.1.0</code> 及以上的版本）。</li><li>克隆仓库并安装依赖，可以使用以下指令：</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/Moonlark-Dev/Moonlark</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Moonlark</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">poetry</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span></span></code></pre></div><h2 id="配置" tabindex="-1">配置 <a class="header-anchor" href="#配置" aria-label="Permalink to &quot;配置&quot;">​</a></h2><p>将<code>.env.template</code> 复制为 <code>.env</code> 并在 <code>.env</code> 文件中填写相关环境变量。</p><p>如果仅为测试使用，您不必填写所有环境变量，需要注意的环境变量有以下几项：</p><table tabindex="0"><thead><tr><th>变量名</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td><code>BAIDU_API_KEY</code></td><td><code>str</code></td><td>百度开放平台的 API KEY，主要提供 LarkUtils 审核接口使用。没有 API KEY 可以留空，但所有审核接口调用都会返回“通过”。</td></tr><tr><td><code>BAIDU_SECRET_KEY</code></td><td><code>str</code></td><td>同上，可留空。</td></tr><tr><td><code>SQLALCHEMY_DATABASE_URL</code></td><td><code>str</code></td><td>数据库地址。建议使用默认值 <code>sqlite+aiosqlite:///database.db</code>，其将在 Moonlark 根目录下创建一个 <code>database.db</code> 用于储存 Moonlark 运行过程中产生的数据。</td></tr></tbody></table><h2 id="搭建测试环境" tabindex="-1">搭建测试环境 <a class="header-anchor" href="#搭建测试环境" aria-label="Permalink to &quot;搭建测试环境&quot;">​</a></h2><blockquote><p>如果您对您的代码有十足的把握，可以跳过该步骤。</p></blockquote><p>为了测试 Moonlark 的代码，您需要运行一个 OneBot 实现并使其连接到 <code>ws://localhost:8080/onebot/v11/ws</code>（默认状态下），我们提供了以下两个参考方案：</p><ul><li>使用 <a href="https://napneko.github.io/guide/start-install" target="_blank" rel="noreferrer">NapCat</a>: 需要有一个闲置的 QQ 号供 NapCat 登录。同时，您可能需要承担该账号被 TX 冻结的风险。</li><li>使用 <a href="https://github.com/A-kirami/matcha" target="_blank" rel="noreferrer">Matcha</a>: 目前已知无法显示 Moonlark 发出的图片。</li></ul><h2 id="继续" tabindex="-1">继续 <a class="header-anchor" href="#继续" aria-label="Permalink to &quot;继续&quot;">​</a></h2><p><a href="./first-plugin.html">第一个 Moonlark 插件</a></p>`,18)]))}const b=t(s,[["render",l]]);export{k as __pageData,b as default};
